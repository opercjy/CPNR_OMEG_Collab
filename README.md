
# CPNR-OMEG-colab: â¶â°Co ì„ ì› ê¸°ë°˜ ì•¡ì²´ì„¬ê´‘ì²´ ê²€ì¶œê¸° Geant4 ì‹œë®¬ë ˆì´ì…˜

## 1\. ê°œìš” (Overview)

ë³¸ í”„ë¡œì íŠ¸ëŠ” CPNR-OMEG-colabì˜ ì¼í™˜ìœ¼ë¡œ, â¶â°Co (ì½”ë°œíŠ¸-60) ê°ë§ˆì„  êµì • ì„ ì›ì„ ì´ìš©í•œ ì•¡ì²´ì„¬ê´‘ì²´ ê²€ì¶œ ì‹œìŠ¤í…œì˜ ì‘ë‹µ íŠ¹ì„±ì„ í‰ê°€í•˜ê¸° ìœ„í•œ Geant4 ì‹œë®¬ë ˆì´ì…˜ì…ë‹ˆë‹¤. ì—í­ì‹œì— ë´‰ì¸ëœ ë””ìŠ¤í¬ í˜•íƒœì˜ ì„ ì›, 100ml ë“€ë€(Duran) ë³‘ì— ë‹´ê¸´ LAB ê¸°ë°˜ ì•¡ì²´ì„¬ê´‘ì²´, ê·¸ë¦¬ê³  Hamamatsu PMTë¡œ êµ¬ì„±ëœ ì „ì²´ ê²€ì¶œê¸° ì‹œìŠ¤í…œì—ì„œ ë°©ì‚¬ì„ ì˜ ìˆ˜ì†¡ ë° ì—ë„ˆì§€ ì „ë‹¬ì„ ì „ì‚°ëª¨ì‚¬í•©ë‹ˆë‹¤.

ì£¼ìš” ëª©í‘œëŠ” ê° ê²€ì¶œê¸° êµ¬ì„± ìš”ì†Œì—ì„œì˜ ì—ë„ˆì§€ ì¶•ì ëŸ‰ì„ ì •ëŸ‰ì ìœ¼ë¡œ ë¶„ì„í•˜ê³ , ì¶”í›„ ê´‘í•™ì  ëª¨ë¸ë§ì„ ì¶”ê°€í•˜ê¸° ì „ ë°©ì‚¬ì„  ìƒí˜¸ì‘ìš© ë‹¨ê³„ì˜ ê¸°ë°˜ì„ ë‹¤ì§€ëŠ” ê²ƒì…ë‹ˆë‹¤.

-----

## 2\. ì‹œë®¬ë ˆì´ì…˜ ëª…ì„¸ (Simulation Specification)

ë³¸ ì‹œë®¬ë ˆì´ì…˜ì€ ë‹¤ìŒê³¼ ê°™ì€ ë¬¼ë¦¬ì , ê¸°í•˜í•™ì  ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.

### 2.1. ê¸°í•˜í•™ì  êµ¬ì¡° (Geometry)

ëª¨ë“  êµ¬ì„± ìš”ì†ŒëŠ” Zì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë™ì¶•(co-axial) ë°°ì¹˜ë©ë‹ˆë‹¤.

  * **ë°©ì‚¬ì„ ì›**: ì—í­ì‹œ(Epoxy) ì¬ì§ˆì˜ ì›í†µ(Ã˜30mm, ë‘ê»˜ 5mm) ì¤‘ì•™ì— â¶â°Co í™œì„± ì˜ì—­(Ã˜10mm, ë‘ê»˜ 1mm)ì´ ìœ„ì¹˜í•©ë‹ˆë‹¤.
  * **ê²€ì¶œê¸° ìš©ê¸°**: DURANÂ® GL 45 100ml ê·œê²©ì˜ ë¶•ê·œì‚° ìœ ë¦¬(Borosilicate Glass) ë³‘.
  * **ì„¬ê´‘ì²´**: LAB(Linear Alkyl Benzene) ìš©ë§¤ì— PPO(3g/L)ì™€ bis-MSB(30mg/L)ê°€ ìš©í•´ëœ ì•¡ì²´ì„¬ê´‘ì²´.
  * **PMT**: Hamamatsu R7195 ëª¨ë¸ì„ ê°€ì •í•œ 2ì¸ì¹˜ ì§ê²½ì˜ ê¸¸ì­‰í•œ ì‹¤ë¦°ë” í˜•íƒœ.
  * **ë°°ì¹˜**: ì„ ì›ê³¼ ë“€ë€ ë³‘ ìƒë‹¨ ì‚¬ì´ ê±°ë¦¬ëŠ” 10cm ì…ë‹ˆë‹¤.

### 2.2. ë°©ì‚¬ì„ ì› (Primary Generator)

  * **í•µì¢…**: â¶â°Co
  * **ë¬¼ë¦¬ í”„ë¡œì„¸ìŠ¤**: `G4RadioactiveDecayPhysics`ë¥¼ í†µí•´ â¶â°Coì˜ ì‹¤ì œ ë¶•ê´´ ì‚¬ìŠ¬(Î²â» ë¶•ê´´ í›„ 1.173 MeV, 1.332 MeV ê°ë§ˆì„  ìˆœì°¨ ë°©ì¶œ)ì„ ì‹œë®¬ë ˆì´ì…˜í•©ë‹ˆë‹¤.
  * **ìƒì„± ë°©ì‹**: `G4GeneralParticleSource (GPS)`ë¥¼ ì‚¬ìš©í•˜ì—¬ í™œì„± ì˜ì—­ ë‚´ì—ì„œ ë“±ë°©ì„±(isotropic)ìœ¼ë¡œ â¶â°Co ì´ì˜¨ì„ ìƒì„±í•©ë‹ˆë‹¤.

### 2.3. ë¬¼ë¦¬ ëª¨ë¸ (Physics List)

  * **ê¸°ë³¸ ë¬¼ë¦¬ ë¦¬ìŠ¤íŠ¸**: `FTFP_BERT` (ë²”ìš© ë¬¼ë¦¬ ëª¨ë¸)
  * **ì „ìê¸° ë¬¼ë¦¬**: `G4EmStandardPhysics_option4` (ì •ë°€ ì €ì—ë„ˆì§€ ì „ìê¸° ìƒí˜¸ì‘ìš© ëª¨ë¸)
  * **íŠ¹ìˆ˜ ë¬¼ë¦¬**: `G4RadioactiveDecayPhysics` (ë°©ì‚¬ì„± ë¶•ê´´)
  * **íŠ¹ìˆ˜ ë¬¼ë¦¬**: `G4OpticalPhysics` (ì „ìê¸°íŒŒ ë¬¼ë¦¬)

### 2.4. ë°ì´í„° ì¶œë ¥ (Data Output)

  * **í¬ë§·**: ROOT TTree (`.root` íŒŒì¼)
  * **ì €ì¥ ì •ë³´**:
      * **ì´ë²¤íŠ¸ ë‹¨ìœ„**: ê° ì´ë²¤íŠ¸ ID, ê²€ì¶œê¸° ì£¼ìš” ë³¼ë¥¨(ì•¡ì²´ì„¬ê´‘ì²´, ìœ ë¦¬ë³‘, PMT ê´‘ì°½)ë³„ ì´ ì—ë„ˆì§€ ì¶•ì ëŸ‰.
      * **ìŠ¤í…/íŠ¸ë™ ë‹¨ìœ„**: ê° ìƒí˜¸ì‘ìš© ë‹¨ê³„(step)ì˜ ìœ„ì¹˜, ì „ë‹¬ëœ ì—ë„ˆì§€, ì…ì ì¢…ë¥˜, ìƒì„± í”„ë¡œì„¸ìŠ¤ ë“±ì˜ ìƒì„¸ ì •ë³´.

-----

## 3\. ìš”êµ¬ì‚¬í•­ (Prerequisites)

ë³¸ ì‹œë®¬ë ˆì´ì…˜ì„ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•˜ê¸° ìœ„í•´ ë‹¤ìŒ í™˜ê²½ì´ í•„ìš”í•©ë‹ˆë‹¤.

  * **Geant4**: v11.0 ì´ìƒ
  * **ROOT**: v6.24 ì´ìƒ
  * **CMake**: v3.16 ì´ìƒ
  * **C++ ì»´íŒŒì¼ëŸ¬**: C++17 í‘œì¤€ì„ ì§€ì›í•˜ëŠ” ì»´íŒŒì¼ëŸ¬ (e.g., GCC 9.0 ì´ìƒ)

-----

## 4\. ë¹Œë“œ ë°©ë²• (Build Instructions) âš™ï¸

1.  **ì†ŒìŠ¤ ì½”ë“œ ë³µì œ (Clone)**

    ```bash
    git clone https://github.com/opercjy/CPNR_OMEG_Collab
    cd CPNR_OMEG_Collab
    ```

2.  **ë¹Œë“œ ë””ë ‰í† ë¦¬ ìƒì„±**

    ```bash
    mkdir build
    cd build
    ```

3.  **í™˜ê²½ ì„¤ì •**
    í„°ë¯¸ë„ì—ì„œ Geant4ì™€ ROOT í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤. (ê²½ë¡œëŠ” ì‹¤ì œ ì„¤ì¹˜ ìœ„ì¹˜ì— ë§ê²Œ ìˆ˜ì •)

    ```bash
    source /path/to/geant4-install/bin/geant4.sh
    source /path/to/root-install/bin/thisroot.sh
    ```

4.  **CMake ì‹¤í–‰ (ëª¨ë“œ ì„ íƒ)**

      * **A) ì¸í„°ë™í‹°ë¸Œ ëª¨ë“œ (Qt GUI í¬í•¨) ë¹Œë“œ:**
        ```bash
        cmake -DGEANT4_USE_QT=ON ..
        ```
      * **B) ë°°ì¹˜ ëª¨ë“œ (GUI ì—†ìŒ) ë¹Œë“œ:**
        ```bash
        cmake ..
        ```

5.  **ì»´íŒŒì¼**

    ```bash
    make -jN  # Nì€ ë¹Œë“œì— ì‚¬ìš©í•  CPU ì½”ì–´ ìˆ˜
    ```

-----

## 5\. ì‹¤í–‰ ë°©ë²• (How to Run) ğŸš€

ë¹Œë“œê°€ ì™„ë£Œë˜ë©´ `build/` ë””ë ‰í† ë¦¬ì— `CPNR_OMEG_colab` ì‹¤í–‰ íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.

### 5.1. ì¸í„°ë™í‹°ë¸Œ ëª¨ë“œ (Interactive Mode)

Qt GUIë¥¼ í†µí•´ ê²€ì¶œê¸° í˜•ìƒì„ í™•ì¸í•˜ê³ , ê°œë³„ ì´ë²¤íŠ¸ë¥¼ ì‹œê°í™”í•˜ë©° ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash
./CPNR_OMEG_colab
```

ì‹¤í–‰ í›„ ë‚˜íƒ€ë‚˜ëŠ” `Idle>` í”„ë¡¬í”„íŠ¸ì—ì„œ Geant4 UI ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì˜ˆ: `/run/beamOn 1`)
ì´ˆê¸° ì‹œê°í™” ì„¤ì •ì€ `init_vis.mac` ë§¤í¬ë¡œ íŒŒì¼ì„ í†µí•´ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 5.2. ë°°ì¹˜ ëª¨ë“œ (Batch Mode)

ë§¤í¬ë¡œ íŒŒì¼ì„ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ GUI ì—†ì´ ëŒ€ëŸ‰ì˜ ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash
./CPNR_OMEG_colab run.mac
```

**`run.mac` íŒŒì¼ ì˜ˆì‹œ:**

```
# run.mac
# ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ì„ ìœ„í•œ ë§¤í¬ë¡œ íŒŒì¼

# ì¶œë ¥ íŒŒì¼ ì´ë¦„ ì„¤ì • (ì„ íƒ ì‚¬í•­)
/analysis/setFileName output.root

# 10,000ê°œì˜ ì´ë²¤íŠ¸ ì‹¤í–‰
/run/beamOn 10000
```

-----

## 6\. í”„ë¡œì íŠ¸ êµ¬ì¡° (Project Structure)

```
CPNR_OMEG_Collab/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ README.md
â”œâ”€â”€ CPNR_OMEG_colab.cc
â”œâ”€â”€ run.mac
â”œâ”€â”€ init_vis.mac
â”œâ”€â”€ include/
â”‚   â”œâ”€â”€ DetectorConstruction.hh
â”‚   â”œâ”€â”€ PhysicsList.hh
â”‚   â”œâ”€â”€ ActionInitialization.hh
â”‚   â”œâ”€â”€ PrimaryGeneratorAction.hh
â”‚   â”œâ”€â”€ RunAction.hh
â”‚   â”œâ”€â”€ EventAction.hh
â”‚   â”œâ”€â”€ SteppingAction.hh
â”‚   â””â”€â”€ TrackingAction.hh
â””â”€â”€ src/
    â”œâ”€â”€ DetectorConstruction.cc
    â”œâ”€â”€ PhysicsList.cc
    â”œâ”€â”€ ActionInitialization.cc
    â”œâ”€â”€ PrimaryGeneratorAction.cc
    â”œâ”€â”€ RunAction.cc
    â”œâ”€â”€ EventAction.cc
    â”œâ”€â”€ SteppingAction.cc
    â””â”€â”€ TrackingAction.cc
```

-----

## 7\. ì‘ì„±ì (Author)

  * **ì´ë¦„**: ìµœì§€ì˜
  * **ì†Œì†**: ì „ë‚¨ëŒ€í•™êµ ë¬¼ë¦¬í•™ê³¼/ì¤‘ì„±ë¯¸ì ì •ë°€ ì—°êµ¬ì„¼í„°
  * **ì´ë©”ì¼**: opercjy@chonnam.ac.kr/opercjy@gmail.com
